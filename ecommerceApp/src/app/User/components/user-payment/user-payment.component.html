<div class="container">
  <div class="col-md-8">
    <div class="accordion" id="accordionExample">
      <div class="accordion-item">
        <h2 class="accordion-header" id="headingOne">
          <button
            class="accordion-button"
            type="button"
            data-bs-toggle="collapse"
            data-bs-target="#collapseOne"
            aria-expanded="true"
            aria-controls="collapseOne"
          >
            <div class="login">
              <div class="row">
                <div class="col-md-10">
                  <h5 class="numbers"><span>1</span> Login</h5>
                </div>
                <p>+91 {{ user?.mobileNumber }}</p>
              </div>
            </div>
          </button>
        </h2>
        <div
          id="collapseOne"
          class="accordion-collapse collapse show"
          aria-labelledby="headingOne"
          data-bs-parent="#accordionExample"
        >
          <div class="accordion-body">
            <div class="container">
              <div class="row">
                <div class="col-md-6">
                  <h6 class="phone-no">
                    <span>Phone</span> +91 {{ user?.mobileNumber }}
                  </h6>
                  <a class="logout-link">Logout & Sign in to another account</a>
                  <div class="my-3">
                    <button class="py-3 px-4 btn-checkout">
                      CONTINUE CHECKOUT
                    </button>
                  </div>
                </div>
                <div class="col-md-6">
                  <p class="adv">Advantages of secure login</p>
                  <p>
                    <i class="fa-solid fa-truck login-icon px-2"></i> Easily
                    Track Orders, Hassle free Returns
                  </p>
                  <p>
                    <i class="fa-solid fa-bell login-icon px-2"></i> Get
                    Relevant Alerts and Recommendation
                  </p>
                  <p>
                    <i class="fa-solid fa-star login-icon px-2"></i> Wishlist,
                    Reviews,Ratings and more.
                  </p>
                </div>
                <p class="adv">
                  Please note that upon clicking to "Logout" you will lose all
                  items in cart and will be redirected to Cara home page.
                </p>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="accordion-item" 
      
      >
        <h2 class="accordion-header" id="headingTwo">
          <button
            class="accordion-button collapsed"
            type="button"
            data-bs-toggle="collapse"
            data-bs-target="#collapseTwo"
            aria-expanded="false"
            aria-controls="collapseTwo"
       
          >
            <div class="address">
              <div class="row">
                <div class="col-md-10">
                  <h5 class="numbers"><span>2</span> DELIVERY ADDRESS</h5>
                </div>

                <p class="px-4">
                 {{userAddress}}
                </p>
              </div>
            </div>
          </button>
        </h2>
        <div
          id="collapseTwo"
          class="accordion-collapse collapse"
          aria-labelledby="headingTwo"
          data-bs-parent="#accordionExample"
        >
          <div class="accordion-body">
            <div class="container">
              <h5>Add Adress here...</h5>
              <div>
                <textarea
                  name="address"
                  id=""
                  cols="50"
                  rows="5"
                  vallue="address"
                  [(ngModel)]="userAddress"
                ></textarea>
              </div>
              <div class="my-3">
                <button class="py-3 px-4 btn-delivery" >DELIVERY HERE</button>
              </div>
            </div>
            <!-- <div>
              <label>
                <p>
                  <input type="radio" name="address" /> Shaikh Mujavviz
                  <span>9890123456</span>
                </p>
                <h6>Opp.police colony,Malik pura,Parli-464542</h6>
                <div class="my-3">
                  <button class="py-3 px-4 btn-checkout">DELIVERY HERE</button>
                </div>
              </label>
            </div> -->
          </div>
        </div>
      </div>
      <div class="accordion-item">
        <h2 class="accordion-header" id="headingThree">
          <button
            class="accordion-button collapsed"
            type="button"
            data-bs-toggle="collapse"
            data-bs-target="#collapseThree"
            aria-expanded="false"
            aria-controls="collapseThree"
          >
            <div class="address">
              <div class="row">
                <div class="col-md-10">
                  <h5 class="numbers"><span>3</span> ORDER SUMMARY</h5>
                </div>
                <p class="px-4">{{ carts.length }} Items</p>
              </div>
            </div>
          </button>
        </h2>
        <div
          id="collapseThree"
          class="accordion-collapse collapse"
          aria-labelledby="headingThree"
          data-bs-parent="#accordionExample"
        >
          <div class="accordion-body">
            <div class="container">
              <div class="row" *ngFor="let cart of carts">
                <div class="col-md-2">
                  <div class="image">
                    <img
                      [src]="cart.photoUrl"
                      width="80%"
                      height="80%"
                      alt=""
                      class="text-center"
                    />
                  </div>
                  <div class="form-group mb-0 text-center py-3">
                    <button
                      class="btn btn-link text-left btn-input"
                      (click)="onQtyDecrease(cart)"
                    >
                      <i class="fas fa-minus"></i>
                    </button>
                    <input
                      id="form1"
                      min="1"
                      name="quantity"
                      value="1"
                      type="number"
                      class="form-control-sm cart-qty"
                      [(ngModel)]="cart.quantity"
                    />
                    <button
                      class="btn btn-link btn-input"
                      (click)="onQtyIncrease(cart)"
                    >
                      <i class="fas fa-plus"></i>
                    </button>
                  </div>
                </div>
                <div class="col-md-6 order-dtl">
                  <p class="mb-0 py-2">{{ cart.brand }}</p>
                  <h5 class="py-1">{{ cart.name }}</h5>
                  <h5 class="py-2">₹{{ cart.price * cart.quantity }}</h5>
                  <div class="remove">
                    <a
                      class="py-2 text-decoration-none"
                      (click)="onDeleteCart(cart.id)"
                      >REMOVE</a
                    >
                  </div>
                </div>
                <div class="col-md-2"></div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="accordion-item">
        <h2 class="accordion-header" id="headingFour">
          <button
            class="accordion-button collapsed"
            type="button"
            data-bs-toggle="collapse"
            data-bs-target="#collapseFour"
            aria-expanded="false"
            aria-controls="collapseFour"
          >
            <div class="address">
              <div class="row">
                <h5 class="numbers"><span>4</span> PAYMENT OPTIONS</h5>
              </div>
            </div>
          </button>
        </h2>
        <div
          id="collapseFour"
          class="accordion-collapse collapse"
          aria-labelledby="headingFour"
          data-bs-parent="#accordionExample"
        >
          <div class="accordion-body">
            <!-- UPI SECTION -->
            <div class="payment-options">
              <label>
                <input
                  type="radio"
                  name="options"
                  value="UPI"
                  (change)="onPaymentOptionChange($event)"
                />
                UPI
              </label>

              <div class="payment-opt-list px-5 py-2">
                <ng-container *ngIf="paymentOption == 'UPI'">
                  <h6>Choose an option</h6>
                  <div>
                    <label>
                      <input
                        type="radio"
                        name="upiOptions"
                        (click)="onEnableButton()"
                      />
                      PhonePe
                    </label>
                  </div>
                  <div>
                    <label class="">
                      <input type="radio" name="upiOptions" />Your UPI ID</label
                    >
                    <div class="px-3">
                      <input
                        type="text"
                        placeholder="Enter UPI ID"
                        class="upi-id"
                      />
                      <button
                        class="btn-wallet btn mx-5"
                        (click)="onEnableButton()"
                      >
                        Continue
                      </button>
                    </div>
                  </div>
                </ng-container>
              </div>
            </div>

            <!-- WALLET SECTION -->
            <!-- <div class="payment-options">
              <label>
                <input
                  type="radio"
                  name="options"
                  value="Wallets"
                  (change)="onPaymentOptionChange($event)"
                />
                Wallets
              </label>
              <div class="payment-opt-list px-5 py-2">
                <ng-container *ngIf="paymentOption == 'Wallets'">
                  <h6>Choose an option</h6>
                  <div>
                    <label>
                      <input type="radio" name="upiOptions" /> Pytm Wallet
                    </label>
                    <div class="px-3">
                      <input type="text" class="mx-2 input-wallet" p-2 />
                      <button class="btn-wallet">Link Now</button>
                    </div>
                  </div>
                  <div>
                    <label>
                      <input type="radio" name="upiOptions" />Phone Pay
                      Wallet</label
                    >
                  </div>
                </ng-container>
              </div>
            </div> -->

            <!-- CREDIT/DEBIT CARD SECTION -->

            <div class="payment-options">
              <label>
                <input
                  type="radio"
                  name="options"
                  value="cards"
                  (change)="onPaymentOptionChange($event)"
                />
                Credit / Debit /ATM Card
                <p class="rbi-guid px-4">
                  Add and secure your card as per RBI guidlines
                </p>
              </label>

              <div class="div">
                <ng-container *ngIf="paymentOption == 'cards'">
                  <div class="form-group px-5">
                    <h6 class="mb-0">Card number</h6>
                    <label for="cardNumber mb-0"> </label>
                    <div class="input-group">
                      <input
                        type="number"
                        name="cardNumber"
                        placeholder="Valid card number"
                        class="form-control"
                        [(ngModel)]="cardNumber"
                        required
                      />
                      <div class="input-group-append">
                        <span class="input-group-text text-muted card-icon">
                          <i class="fab fa-cc-visa mx-1 card-icon"></i>
                          <i class="fab fa-cc-mastercard mx-1 card-icon"></i>
                          <i class="fab fa-cc-amex mx-1 card-icon"></i>
                        </span>
                      </div>
                    </div>
                    <div class="row">
                      <div class="py-3 col-3">
                        <h6 for="start" class="exp-heading">Valid Thru:</h6>

                        <input
                          type="month"
                          id="start"
                          name="start"
                          min="2022-10"
                          class="exp-date-input form-control"
                        [(ngModel)]="expDate"

                          required
                        />
                      </div>
                      <div class="form-group mb-4 col-3">
                        <label
                          data-toggle="tooltip"
                          title="Three digit CV code on the back of your card"
                        >
                          <h6 class="cvv-heading">
                            CVV
                            <i class="fa fa-question-circle d-inline" plac></i>
                          </h6>
                        </label>
                        <input
                          type="text"
                          required
                          class="form-control"
                          placeholder="CVV"
                        [(ngModel)]="cvv"

                        />
                      </div>
                    </div>
                    <div class="">
                      <button class="btn btn-pay" (click)="onEnableButton()">
                        Continue
                      </button>
                    </div>
                  </div>
                </ng-container>
              </div>
            </div>

            <!-- NET BANKING SECTION -->
            <div class="payment-options">
              <label>
                <input
                  type="radio"
                  name="options"
                  value="netBanking"
                  (change)="onPaymentOptionChange($event)"
                />
                Net Banking</label
              >

              <div class="px-5">
                <ng-container *ngIf="paymentOption == 'netBanking'">
                  <h6>Popular Banks</h6>
                  <div class="row">
                    <div class="col-3">
                      <label class="px-2">
                        <input type="radio" name="bank-options" />
                        HDFC Bank</label
                      >
                    </div>
                    <div class="col-4">
                      <label class="px-2">
                        <input type="radio" name="bank-options" />
                        ICICI Bank</label
                      >
                    </div>
                    <div class="col-3">
                      <label class="px-2">
                        <input type="radio" name="bank-options" />
                        State Bank of India</label
                      >
                    </div>
                  </div>

                  <div class="row">
                    <div class="col-3">
                      <label class="px-2">
                        <input type="radio" name="bank-options" />
                        Axis Bank</label
                      >
                    </div>
                    <div class="col-4">
                      <label class="px-2">
                        <input type="radio" name="bank-options" />
                        Kotak Mahindra Bank
                      </label>
                    </div>
                    <div class="col-3">
                      <label class="px-2">
                        <input type="radio" name="bank-options" />
                        Citi Bank</label
                      >
                    </div>
                  </div>
                  <div class="rounded-circe">
                    <button
                      class="my-2 bg-grey btn btn-net-banking"
                      (click)="onEnableButton()"
                    >
                      Continue
                    </button>
                  </div>
                </ng-container>
              </div>
            </div>

            <!-- INSTALLEMENT SECTION -->
            <div class="payment-options">
              <label (change)="onPaymentOptionChange($event)"
                ><input
                  type="radio"
                  name="options"
                  value="EMI"
                  (click)="onEnableButton()"
                />
                EMI (Easy Installments)</label
              >
              <div>
                <ng-container *ngIf="paymentOption == 'EMI'"> </ng-container>
              </div>
            </div>
            <!-- COD SECTION -->
            <div class="payment-options">
              <label>
                <input
                  type="radio"
                  name="options"
                  (click)="onEnableButton()"
                   (change)="onPaymentOptionChange($event)"
                  value="CashOnDelivery"
                />
                Cash on Delivery</label
              >
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- PRICE DETAIL SECTION -->

  <div class="col-md-4 ">
    <div class="card mb-4 ">
      <div class="card-header bg-white summary-title ">
        <h5 class="mb-0 p-2">PRICE DETAILS</h5>
      </div>
      <div class="card-body price-dtl">
        <ul class="list-group list-group-flush dtl-list">
          <li
            class="list-group-item d-flex justify-content-between align-items-center border-0 px-0 pb-0"
          >
            Price ({{ carts.length }} items)
            <span>₹{{ getGrandTotal(carts) }}</span>
          </li>

          <li
            class="list-group-item d-flex justify-content-between align-items-center border-0 px-0 pb-0"
          >
            Delivery Charges
            <span>FREE</span>
          </li>
          <li
            class="list-group-item d-flex justify-content-between align-items-center border-0 px-0 pb-0 mb-2"
          >
            Packing Charges
            <span>₹50</span>
          </li>
          <li
            class="list-group-item d-flex justify-content-between align-items-center border-0 px-0 pb-0 amt-paybl border-top"
          >
            Amount Payable
            <span>₹{{ getGrandTotal(carts) + 50 }}</span>
          </li>
        </ul>
      </div>
    </div>
    <div class="text-center">
      <button
        class="btn btn-warning py-3 px-5 btn-final-pay"
        [disabled]="isPaymentButtonDisabled"
        (click)="onPayFinalAmount()"
      >
        Pay ₹{{ getGrandTotal(carts) + 50 }}/-
      </button>
    </div>
  </div>
</div>
